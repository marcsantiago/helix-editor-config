theme = "github_dark_dimmed"

[editor]
line-number = "relative"
mouse = true
cursorline = true
bufferline = "always"
true-color = true
rulers = [120]
# Minimum severity to show a diagnostic after the end of a line
end-of-line-diagnostics = "hint"


# Turn on LSP-powered completion
auto-completion = true           # shows popup as you type
completion-timeout = 100         # how quickly after typing to show it
preview-completion-insert = true # preview selection inline
completion-trigger-len = 1       # how many chars before popup triggers

[editor.lsp]
# Disable automatically popups of signature parameter help
auto-signature-help = false
# Show LSP messages in the status line
display-messages = true

# other existing settings
[editor.cursor-shape]
insert = "bar"
normal = "block"
select = "underline"

[editor.auto-save]
focus-lost = true
after-delay.enable = true
after-delay.timeout = 3000

[editor.inline-diagnostics]
cursor-line = "error" # Show inline diagnostics when the cursor is on the line
other-lines = "disable" # Don't expand diagnostics unless the cursor is on the line


[editor.indent-guides]
character = "â•Ž"
render = true

[editor.statusline]
left = ["mode", "spinner", "version-control", "file-name"]

[keys.insert]
j = {k = "normal_mode"}
C-h = "move_char_left"
C-l = "move_char_right"
C-j = "move_line_down"
C-k = "move_line_up"

[keys.normal]
"ret" = "goto_word"
C-j = ["extend_to_line_bounds", "delete_selection", "paste_after"]
C-k = ["extend_to_line_bounds", "delete_selection", "move_line_up", "paste_before"]
# Yazi
C-y = [
  ':sh rm -f /tmp/unique-file',
  ':insert-output yazi "%{buffer_name}" --chooser-file=/tmp/unique-file',
  ':sh printf "\x1b[?1049h\x1b[?2004h" > /dev/tty',
  ':open %sh{cat /tmp/unique-file}',
  ':redraw',
]

C-space = "signature_help"

[editor.file-picker]
hidden = false
